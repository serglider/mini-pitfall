<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Pitfall</title>
	<style>
		body { background: #333; }
/*		canvas {
			zoom: 20;
		}*/
	</style>
</head>
<body>
<script src="js/howler.js"></script>
<script src="js/pitfall.js"></script>
<script>
	var pitfall = new Pitfall({
		height: 27, // 9, 18, 27, 36
		width: 13,
		playerWidth: 1,

		square: 35, // I've came up with this for the testing purposes.
					// My previous idea about scaling via CSS didn't work
					// because of browser's antialiasing.
					// Set 1 here to have a pixel per square.

		pathWidth: 6, // self explanatory I think

		maxRun: 13,  // script will randomly choose a number
				 	// from the range between this value and zero.
				 	// This number will be a length of the current stretch of the road.

		maxRunIncrement: -1, // for each level the maxRun property will be incremented by this value

		updateFrequency: 160,        // speed of animation, ms
		levelTimeIncrement: 10,      // seconds
		levelUpTime: 1,              // seconds
		levelSpeedIncrement: 10,     // percent

		startImageDelay: 1,     // seconds
		endImageDelay: 5,     // seconds

		bumpFlashTime: 0.5,     // seconds

		colors: {
			level: [
				{
					terrain: "#B64926",
					edge: "#FFB03B",
					background: "#8E2800"
				},
				{
					terrain: "#00261C",
					edge: "#044C29",
					background: "#167F39"
				},
				{
					terrain: "#6B4E15",
					edge: "#C47B24",
					background: "#CCAF6B"
				},
				{
					terrain: "#00215E",
					edge: "#003CAA",
					background: "#1967F7"
				},
				{
					terrain: "#B64926",
					edge: "#FFB03B",
					background: "#8E2800"
				},
				{
					terrain: "#00261C",
					edge: "#044C29",
					background: "#167F39"
				},
				{
					terrain: "#6B4E15",
					edge: "#C47B24",
					background: "#CCAF6B"
				}
			],
			playerHealth: [
				"#1E1E1F",
				"#424143",
				"#67666A",
				"#807F83",
				"#CBC9CF"
			],
			bump: {
				terrain: "#450003",
				edge: "#5C0002",
				background: "#94090D"
			},
			levelUp: {
				terrain: "#450003",
				edge: "#5C0002",
				background: "#94090D"
			}
		},
		images: {
			title: "media/title.png",
			start1: "media/start1.png",
			start2: "media/start2.png",
			start3: "media/start3.png",
			lose: "media/lose.png",
			win: "media/win.png"
		},
		sounds: {
			title: "media/title-loop.mp3",
			game: "media/in-game.mp3",
			level: "media/level-up.mp3",
			lose: "media/lose.mp3",
			win: "media/win.mp3",
			bump: "media/incorrect.m4a"
		}
	});

	window.onkeydown = function(event) {
		event.preventDefault();
		switch ( event.which ) {
			case 27: pitfall.restart(); break;
			case 32: pitfall.start(); break;
			case 80: pitfall.pause(); break;
			case 37: pitfall.move("left"); break;
			case 39: pitfall.move("right"); break;
		}
	};
</script>
</body>
</html>
